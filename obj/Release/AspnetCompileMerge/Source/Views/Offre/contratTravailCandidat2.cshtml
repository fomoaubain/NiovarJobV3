@model WebApplication1.Models.Postuler
@{
    ViewBag.Title = "contratTravailCandidat";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Our Dashbord -->
<section class="">
    <div class="our-dashbord dashbord ">
        <div class="container">
            <div class="row">
                @{
                    Html.RenderPartial("Partial_menu_candidat");
                }

                <div class="col-lg-8 col-xl-9">
                    <div class="container">
                        <div class="inner-header text-center">
                            <h1>Contrat de travailéééé</h1>
                        </div>
                        <h4 class=" text-center">1. Les parties soussignées:</h4>
                        <p>
                            La Société:<span class="font-weight-bold"> NIOVARJOBS</span>   <br>
                            demeurant / établi(e) et ayant son siège social à : rue 2020 Quebec , CANADA,<br>
                            représenté(e) par : Mr Smith PDG de NIOVARJOBS ci-après désigné(e) l’employeur;
                        </p>
                        <h4 class=" text-center">  et</h4>
                        <p>
                            Madame / Monsieur <span class="font-weight-bold">@Model.Inscrire.nom </span>   demeurant à <span class="font-weight-bold">@Model.Inscrire.adresse </span>
                            ci-après désigné(e) ,le / la salarié(e)“;
                            ont conclu le présent CONTRAT DE TRAVAIL.
                        </p>
                        <h4 class=" text-center">2. Date d’entrée de service </h4>
                        <p>
                            La date du début de l’exécution du présent contrat de travail est fixée au  <span class="font-weight-bold"> @Model.Job.dateEntre </span>
                        </p>
                        <h4 class=" text-center">3. Nature de l'emploi occupé et description des fonctions / tâches assignées  </h4>
                        <p>
                            Le/la salarié(e) est engagé(e) en qualité de : <span class="font-weight-bold"> @Model.Job.titre </span>   . Dans l’exercice de cette fonction,
                            le/la salarié(e) est amené(e) à : <span class="font-weight-bold"> @Model.Job.description </span>  .<br>

                            L'employeur se réserve le droit d'affecter le/la salarié(e) à une autre fonction et ce, selon les
                            besoins de l'employeur et en considération de la formation et des qualifications du/de la
                            salarié(e).
                        </p>
                        <h4 class=" text-center">4. Lieu de travail   </h4>
                        <p>
                            Le lieu de travail est <span class="font-weight-bold"> @Model.Job.ville </span> , <span class="font-weight-bold">  @Model.Job.pays</span> . <br> <br>
                            Ou à défaut de lieu de travail fixe ou prédominant: Le salarié sera occupé à divers endroits et
                            plus particulièrement à l’étranger ainsi qu'au siège ou, le cas échéant, au domicile de
                            l’employeur;
                        </p>

                        <h4 class=" text-center"> 5. Durée et horaire de travail    </h4>
                        <p>
                            La durée de travail est de <span class="font-weight-bold">  @Model.Job.heureTravailJour</span>   heures par jours exclus les heures de pauses, réparties sur <span class="font-weight-bold">@Model.Job.jourTravail </span>    jours
                            ouvrables.
                        </p>

                        <h4 class=" text-center">   6. Salaire   </h4>
                        <p>
                            Le salaire initial brut est fixé à <span class="font-weight-bold"> @Model.remuneration </span>  $ à l’indice du dollars canadien. Il sera payé à la fin de
                            chaque 2 semaines, déduction faite des charges sociales et fiscales prévues par la loi.
                        </p>

                        <p class="mt-4">
                            Le présent contrat de travail est régi par le Code du travail et/ou par les dispositions de la
                            convention collective applicable à l’entreprise.
                        </p>

                        <h4 class=" text-center">  Accord du candidat   </h4>


                        @if (Model.signatures.Equals("1"))
                        {
                            <p class="mt-1">
                                <input type="checkbox" id="checkboxState"> J'ai lu et j'accepte les termes du contrat. Si je valide j'accepte de ne pas faire un retour sur ma décision.
                            </p>
                            <button class="btn btn-primary" onclick="confirmContrat(@Model.id)"><span>Je confirme et J'accepte ce contrat </span></button>
                        }
                        else if (Model.signatures.Equals("2"))
                        {
                            <button class="btn btn-success"><span>Vous avez accepter ce contrat</span></button>

                            <br>
                            <p>Date signature : @Model.dateSignatures</p>
                        }

                    </div>
                </div>
            </div>


        </div>
    </div>
</section>
<script type="text/javascript" src="~/Scripts/jquery-3.4.1.min.js"></script>

<script>
    $(document).ready(function () {

    });

     // fonction qui confirme l'accord du candidat pour le contrat
    function confirmContrat(id) {

        if (document.getElementById('checkboxState').checked) {

            var url = "@Url.Action("confirmContratCandidat", "Offre")" + "?id=" + id ;

            console.log("url= " +url);

            window.location.href = url;

        } else {
            alert("Veuillez confirmez les termes du contrat");
        }

    }

</script>
